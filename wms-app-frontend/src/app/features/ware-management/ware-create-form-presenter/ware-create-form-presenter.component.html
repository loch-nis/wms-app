<mat-card class="mx-auto mt-4 max-w-md p-4">
  <mat-card-header class="mb-4">
    <mat-card-title>New Ware</mat-card-title>
  </mat-card-header>

  <mat-card-content>
    <form
      #wareCreateForm="ngForm"
      (ngSubmit)="onSubmit(wareCreateForm)"
      class="flex flex-col gap-2"
    >
      <mat-form-field class="w-full">
        <mat-label>Barcode</mat-label>
        <input matInput name="barcode" [(ngModel)]="newWare.barcode" required />
        <mat-error>Barcode is required</mat-error>
      </mat-form-field>

      <mat-form-field class="w-full">
        <mat-label>Name</mat-label>
        <input matInput name="name" [(ngModel)]="newWare.name" required />
        <mat-error>Name is required</mat-error>
      </mat-form-field>

      <div ngModelGroup="inventory" class="flex gap-4">
        <mat-form-field class="w-1/2" floatLabel="always">
          <mat-label>Price</mat-label>
          <input
            matInput
            type="number"
            name="price"
            [(ngModel)]="newWare.inventory.price"
            required
            min="0"
          />
          <span matTextPrefix>$&nbsp;</span>
          <mat-error>Price is required</mat-error>
        </mat-form-field>

        <mat-form-field class="w-1/2">
          <mat-label>Quantity</mat-label>
          <input
            matInput
            type="number"
            name="quantity"
            [(ngModel)]="newWare.inventory.quantity"
            required
            min="0"
          />
          <mat-error>Min 0</mat-error>
        </mat-form-field>
      </div>

      <mat-form-field class="w-full">
        <mat-label>Placement</mat-label>
        <mat-select
          name="placement_id"
          [(ngModel)]="newWare.placement_id"
          required
        >
          @for (placement of placementOptions; track placement) {
            <mat-option [value]="placement"
              >Placement {{ placement }}</mat-option
            >
          }
        </mat-select>
        <mat-error>Please select a placement</mat-error>
      </mat-form-field>

      <mat-card-actions>
        <button
          mat-raised-button
          color="primary"
          type="submit"
          class="w-full"
          [disabled]="!wareCreateForm.form.valid"
        >
          Create Ware
        </button>
      </mat-card-actions>
    </form>
  </mat-card-content>
</mat-card>
