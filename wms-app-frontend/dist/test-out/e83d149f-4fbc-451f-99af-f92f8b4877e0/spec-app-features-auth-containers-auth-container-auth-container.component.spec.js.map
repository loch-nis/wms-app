{
  "version": 3,
  "sources": ["angular:jit:template:src/app/features/auth/containers/auth-container/auth-container.component.html", "src/app/features/auth/containers/auth-container/auth-container.component.ts", "src/app/features/auth/containers/auth-container/auth-container.component.spec.ts"],
  "sourcesContent": ["@if (mode() === 'login')\n{\n    <h2 class=\"text-2xl font-semibold text-gray-800 mb-4 mt-4 text-center\">Login as existing user</h2>\n    <app-login-presenter [submitFunction]=\"handleLogin\"></app-login-presenter>\n}\n@else if (mode() === 'register') \n{\n    <h2 class=\"text-2xl font-semibold text-gray-800 mb-4 mt-4 text-center\">Register new user</h2>\n    <app-register-presenter [submitFunction]=\"handleRegister\"></app-register-presenter>\n}\n@else if (mode() === 'logout')\n{\n    <p class=\"text-center mt-8 text-gray-500\">Logging out...</p>\n}", "import { Component, inject, computed, effect } from '@angular/core';\nimport { AuthService } from '../../auth.service';\nimport { LoginPresenterComponent } from '../../components/login-presenter/login-presenter.component';\nimport { RegisterPresenterComponent } from '../../components/register-presenter/register-presenter.component';\nimport { Router } from '@angular/router';\nimport { NotificationService } from '../../../../core/services/notification.service';\nimport { AuthMode } from '../../models/auth.model';\nimport { LoginRequest, RegisterRequest } from '../../models/auth.model';\n\n@Component({\n  selector: 'app-auth-container',\n  imports: [LoginPresenterComponent, RegisterPresenterComponent],\n  templateUrl: './auth-container.component.html',\n})\nexport class AuthContainerComponent {\n    private authService = inject(AuthService);\n    private router = inject(Router);\n\tprivate readonly notification = inject(NotificationService);\n\n    readonly mode = computed<AuthMode>(() => {\n        switch (this.router.url) {\n            case '/auth/register':\n                return 'register';\n            case '/auth/logout':\n                return 'logout';\n            default:\n                return 'login';\n        }\n    });\n\n    logoutEffect = effect(() => {\n        if (this.mode() !== 'logout')\n            return;\n        \n        this.authService.logout().subscribe({\n            next: () => {\n                this.notification.showSuccess(\"Logout successful\");\n                this.router.navigateByUrl('auth/login');\n            },\n            error: () => {\n                console.warn(\"Error posting to logout endpoint\");\n                this.router.navigateByUrl('auth/login');\n            },\n        });\n        \n    });\n\n    readonly handleLogin = (credentials: LoginRequest) => {\n        this.authService.login(credentials).subscribe({\n            next: () => {\n                this.notification.showSuccess(\"Login successful\");\n                this.router.navigateByUrl('home');\n            },\n            error: () => {\n                this.notification.showError(\"Login failed\");\n            },\n        });\n    }\n\n    readonly handleRegister = (newUser: RegisterRequest) => {\n        this.authService.register(newUser).subscribe({\n            next: () => {\n                this.router.navigateByUrl('auth/login');\n                this.notification.showSuccess(\"Registration successful\");\n            },\n            error: () => {\n                this.notification.showError(\"Registration failed\");\n            },\n        });\n    }\n\n}\n", "import { ComponentFixture, TestBed } from '@angular/core/testing';\n\nimport { AuthContainerComponent } from './auth-container.component';\n\ndescribe('AuthContainerComponent', () => {\n  let component: AuthContainerComponent;\n  let fixture: ComponentFixture<AuthContainerComponent>;\n\n  beforeEach(async () => {\n    await TestBed.configureTestingModule({\n      imports: [AuthContainerComponent]\n    })\n    .compileComponents();\n\n    fixture = TestBed.createComponent(AuthContainerComponent);\n    component = fixture.componentInstance;\n    fixture.detectChanges();\n  });\n\n  it('should create', () => {\n    expect(component).toBeTruthy();\n  });\n});\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;ICca;;;;;;AAdb;AACA;AACA;AACA;AACA;AACA;AASO,IAAM,yBAAN,MAAMA,wBAAsB;MACvB,cAAc,OAAO,WAAW;MAChC,SAAS,OAAO,MAAM;MAChB,eAAe,OAAO,mBAAmB;MAE9C,OAAO,SAAmB,MAAK;AACpC,gBAAQ,KAAK,OAAO,KAAK;UACrB,KAAK;AACD,mBAAO;UACX,KAAK;AACD,mBAAO;UACX;AACI,mBAAO;QACf;MACJ,CAAC;MAED,eAAe,OAAO,MAAK;AACvB,YAAI,KAAK,KAAI,MAAO;AAChB;AAEJ,aAAK,YAAY,OAAM,EAAG,UAAU;UAChC,MAAM,MAAK;AACP,iBAAK,aAAa,YAAY,mBAAmB;AACjD,iBAAK,OAAO,cAAc,YAAY;UAC1C;UACA,OAAO,MAAK;AACR,oBAAQ,KAAK,kCAAkC;AAC/C,iBAAK,OAAO,cAAc,YAAY;UAC1C;SACH;MAEL,CAAC;MAEQ,cAAc,CAAC,gBAA6B;AACjD,aAAK,YAAY,MAAM,WAAW,EAAE,UAAU;UAC1C,MAAM,MAAK;AACP,iBAAK,aAAa,YAAY,kBAAkB;AAChD,iBAAK,OAAO,cAAc,MAAM;UACpC;UACA,OAAO,MAAK;AACR,iBAAK,aAAa,UAAU,cAAc;UAC9C;SACH;MACL;MAES,iBAAiB,CAAC,YAA4B;AACnD,aAAK,YAAY,SAAS,OAAO,EAAE,UAAU;UACzC,MAAM,MAAK;AACP,iBAAK,OAAO,cAAc,YAAY;AACtC,iBAAK,aAAa,YAAY,yBAAyB;UAC3D;UACA,OAAO,MAAK;AACR,iBAAK,aAAa,UAAU,qBAAqB;UACrD;SACH;MACL;;AAvDS,6BAAsB,WAAA;MALlC,UAAU;QACT,UAAU;QACV,SAAS,CAAC,yBAAyB,0BAA0B;QAC7D,UAAA;OACD;OACY,sBAAsB;;;;;ACdnC;;;AAEA,IAAAC;AAEA,aAAS,0BAA0B,MAAK;AACtC,UAAI;AACJ,UAAI;AAEJ,iBAAW,MAAW;AACpB,cAAM,QAAQ,uBAAuB;UACnC,SAAS,CAAC,sBAAsB;SACjC,EACA,kBAAiB;AAElB,kBAAU,QAAQ,gBAAgB,sBAAsB;AACxD,oBAAY,QAAQ;AACpB,gBAAQ,cAAa;MACvB,EAAC;AAED,SAAG,iBAAiB,MAAK;AACvB,eAAO,SAAS,EAAE,WAAU;MAC9B,CAAC;IACH,CAAC;;;",
  "names": ["AuthContainerComponent", "init_auth_container_component"]
}
