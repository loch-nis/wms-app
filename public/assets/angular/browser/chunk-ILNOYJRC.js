import{R as i,bc as v,cc as f,ma as b}from"./chunk-B42WC262.js";import{a as d,b as l}from"./chunk-4IDNTCH7.js";function S(r){return v(l(d({},r),{loader:void 0,stream:t=>{let u,o=()=>u.unsubscribe();t.abortSignal.addEventListener("abort",o);let c=b({value:void 0}),n,p=new Promise(e=>n=e);function s(e){c.set(e),n?.(c),n=void 0}let a=r.stream??r.loader;if(a===void 0)throw new i(990,!1);return u=a(t).subscribe({next:e=>s({value:e}),error:e=>{s({error:f(e)}),t.abortSignal.removeEventListener("abort",o)},complete:()=>{n&&s({error:new i(991,!1)}),t.abortSignal.removeEventListener("abort",o)}}),p}}))}export{S as a};
